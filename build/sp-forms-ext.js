define(["jquery"],function(e){"use strict";var t=function(){var t=this;e('[id$="_Picker_OuterTable"]').each(function(){var i=e(this);setInterval(function(){t.checkIfBusinessDataChanged(i)},1e3)})};return e.extend(t.prototype,{settings:{fieldNames:{}},checkIfBusinessDataChangedCache:{},test:function(){console.log("test")},getField:function(e){return e in this.settings.fieldNames?this.settings.fieldNames[e]:e},findBodyFromFieldName:function(t){var i=this;return e('.ms-formlabel .ms-standardheader:contains("'+i.getField(t)+'")').filter(function(n,r){var s=e(r).text().replace("*","").trim();return s===i.getField(t)?!0:void 0}).closest("tr").find(".ms-formbody")},setBusinessDataField:function(e,t){if(!t)return!1;var i=this,n=i.findBodyFromFieldName(e);n.find('[id$="Picker_upLevelDiv"]').text(t),n.find('[id$="Picker_checkNames"]').click()},getBusinessDataField:function(e){var t=this.findBodyFromFieldName(e);return t.find('[id$="_Picker_OuterTable"]')},setSelect:function(t,i){if(!i)return!1;var n=this,r=n.findBodyFromFieldName(t);r.find("select option").filter(function(){return e(this).text()===i}).attr("selected",!0)},setCheckbox:function(e,t){var i=this,n=i.findBodyFromFieldName(e);n.find('[type="checkbox"]').prop("checked",t)},findPeoplePicker:function(t){var i=e('[id$="ClientPeoplePicker"][title="'+t+'"]'),n=i.find('[title="'+t+'"]'),r=SPClientPeoplePicker.SPClientPeoplePickerDict[i[0].id];return{div:i,editor:n,sp:r}},setPeoplePicker:function(e,t){if(!t)return!1;var i=this.findPeoplePicker(e);i.editor.val(t),i.sp.AddUnresolvedUserFromEditor(!0)},getPeoplePicker:function(e){var t=this.findPeoplePicker(e);return t.sp.GetAllUserInfo()},findBusinessDataValue:function(t,i){var n=e.parseXML(t),r=e(n).find('Key:contains("'+i+'")').parent().find("Value").text();return r},getFieldName:function(e){return e.closest("tr").find(".ms-formlabel .ms-standardheader").text().replace("*","").trim()},checkIfBusinessDataChanged:function(t){var i=e("#divEntityData div",t).attr("data"),n=t.attr("id");i!==this.checkIfBusinessDataChangedCache[n]&&(this.checkIfBusinessDataChangedCache[n]=i,t.trigger("change",i))}}),t});